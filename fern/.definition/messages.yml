imports:
  root: __package__.yml
types:
  Message:
    docs: >-
      Message are how you reach out to contacts in Intercom. They are created
      when an admin sends an outbound message to a contact.
    properties:
      body:
        docs: The message body, which may contain HTML.
        type: string
      conversation_id:
        docs: The associated conversation_id
        type: optional<string>
      created_at:
        docs: The time the conversation was created.
        type: integer
      id:
        docs: The id representing the message.
        type: string
      message_type:
        docs: >-
          The type of message that was sent. Can be email, inapp, facebook or
          twitter.
        type: MessageMessageType
      subject:
        docs: 'The subject of the message. Only present if message_type: email.'
        type: optional<string>
      type:
        docs: The type of the message
        type: string
    source:
      openapi: ../descriptions/2.14/api.intercom.io.yaml
  MessageMessageType:
    docs: >-
      The type of message that was sent. Can be email, inapp, facebook or
      twitter.
    enum:
      - email
      - inapp
      - facebook
      - twitter
    inline: true
    source:
      openapi: ../descriptions/2.14/api.intercom.io.yaml
docs: Everything about your messages
service:
  auth: false
  base-path: ''
  display-name: Messages
  endpoints:
    create:
      auth: true
      display-name: Create a message
      docs: >
        You can create a message that has been initiated by an admin. The
        conversation can be either an in-app message or an email.


        > ðŸš§ Sending for visitors

        >

        > There can be a short delay between when a contact is created and when
        a contact becomes available to be messaged through the API. A 404 Not
        Found error will be returned in this case.


        This will return the Message model that has been created.


        > ðŸš§ Retrieving Associated Conversations

        >

        > As this is a message, there will be no conversation present until the
        contact responds. Once they do, you will have to search for a contact's
        conversations with the id of the message.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.UnprocessableEntityError
      examples:
        - name: user_message_created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: lead_message_created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: admin_message_created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: No body supplied for message
          request:
            body: Hello there
            create_conversation_without_contact_reply: true
            created_at: 1590000000
            from:
              id: 394051
              type: admin
            message_type: inapp
            subject: heyy
            template: plain
            to:
              id: 6762f23b1bb69f9f2193bc1a
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: No subject supplied for email message
          request:
            body: hey there
            create_conversation_without_contact_reply: true
            created_at: 1590000000
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: No body supplied for email message
          request:
            body: Hello there
            create_conversation_without_contact_reply: true
            created_at: 1590000000
            from:
              id: 394051
              type: admin
            message_type: email
            subject: heyy
            template: plain
            to:
              id: 6762f23d1bb69f9f2193bc1c
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: user message created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '613'
              created_at: 1734537780
              id: '403918396'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: lead message created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '614'
              created_at: 1734537783
              id: '403918397'
              message_type: inapp
              subject: Greetings
              type: user_message
        - name: admin message created
          request:
            body: Hello there
            from:
              id: 394051
              type: admin
            message_type: email
            subject: Thanks for everything
            template: plain
            to:
              id: 536e564f316c83104c000020
              type: user
          response:
            body:
              body: heyy
              conversation_id: '64619700005570'
              created_at: 1734537786
              id: '19'
              message_type: inapp
              subject: heyy
              type: admin_message
      method: POST
      path: /messages
      request:
        body:
          type: optional<root.CreateMessageRequest>
        content-type: application/json
      response:
        docs: admin message created
        status-code: 200
        type: Message
      source:
        openapi: ../descriptions/2.14/api.intercom.io.yaml
  source:
    openapi: ../descriptions/2.14/api.intercom.io.yaml
