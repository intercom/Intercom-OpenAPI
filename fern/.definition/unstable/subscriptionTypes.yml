imports:
  unstableRoot: __package__.yml
types:
  SubscriptionType:
    docs: >-
      A subscription type lets customers easily opt out of non-essential
      communications without missing what's important to them.
    properties:
      consent_type:
        docs: Describes the type of consent.
        type: optional<SubscriptionTypeConsentType>
      content_types:
        docs: >-
          The message types that this subscription supports - can contain
          `email` or `sms_message`.
        type: optional<list<SubscriptionTypeContentTypesItem>>
      default_translation:
        type: optional<unstableRoot.Translation>
      id:
        docs: The unique identifier representing the subscription type.
        type: optional<string>
      state:
        docs: The state of the subscription type.
        type: optional<SubscriptionTypeState>
      translations:
        docs: >-
          An array of translations objects with the localised version of the
          subscription type in each available locale within your translation
          settings.
        type: optional<list<unstableRoot.Translation>>
      type:
        docs: The type of the object - subscription
        type: optional<string>
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  SubscriptionTypeConsentType:
    docs: Describes the type of consent.
    enum:
      - opt_out
      - opt_in
    inline: true
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  SubscriptionTypeContentTypesItem:
    enum:
      - email
      - sms_message
    inline: true
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  SubscriptionTypeState:
    docs: The state of the subscription type.
    enum:
      - live
      - draft
      - archived
    inline: true
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
docs: Everything about subscription types
service:
  auth: false
  base-path: ''
  display-name: Subscription Types
  endpoints:
    attachSubscriptionTypeToContact:
      auth: true
      display-name: Add subscription to a contact
      docs: >
        You can add a specific subscription to a contact. In Intercom, we have
        two different subscription types based on user consent - opt-out and
        opt-in:

          1.Attaching a contact to an opt-out subscription type will opt that user out from receiving messages related to that subscription type.

          2.Attaching a contact to an opt-in subscription type will opt that user in to receiving messages related to that subscription type.

        This will return a subscription type model for the subscription type
        that was added to the contact.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            contact_id: 63a07ddf05a32042dffac965
          request:
            consent_type: opt_in
            id: '37846'
          response:
            body:
              consent_type: opt_in
              content_types:
                - sms_message
              default_translation:
                description: Lorem ipsum dolor sit amet
                locale: en
                name: Newsletters
              id: '106'
              state: live
              translations:
                - description: Lorem ipsum dolor sit amet
                  locale: en
                  name: Newsletters
              type: subscription
        - name: Contact not found
          path-parameters:
            contact_id: 63a07ddf05a32042dffac965
          request:
            consent_type: opt_in
            id: '37846'
          response:
            body:
              consent_type: opt_in
              content_types:
                - sms_message
              default_translation:
                description: Lorem ipsum dolor sit amet
                locale: en
                name: Newsletters
              id: '106'
              state: live
              translations:
                - description: Lorem ipsum dolor sit amet
                  locale: en
                  name: Newsletters
              type: subscription
        - name: Resource not found
          path-parameters:
            contact_id: 63a07ddf05a32042dffac965
          request:
            consent_type: opt_in
            id: invalid_id
          response:
            body:
              consent_type: opt_in
              content_types:
                - sms_message
              default_translation:
                description: Lorem ipsum dolor sit amet
                locale: en
                name: Newsletters
              id: '106'
              state: live
              translations:
                - description: Lorem ipsum dolor sit amet
                  locale: en
                  name: Newsletters
              type: subscription
      method: POST
      path: /contacts/{contact_id}/subscriptions
      request:
        body:
          properties:
            consent_type:
              docs: The consent_type of a subscription, opt_out or opt_in.
              type: string
            id:
              docs: >-
                The unique identifier for the subscription which is given by
                Intercom
              type: string
        content-type: application/json
        name: AttachSubscriptionTypeToContactRequest
        path-parameters:
          contact_id:
            docs: The unique identifier for the contact which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: SubscriptionType
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    detachSubscriptionTypeToContact:
      auth: true
      display-name: Remove subscription from a contact
      docs: >-
        You can remove a specific subscription from a contact. This will return
        a subscription type model for the subscription type that was removed
        from the contact.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            contact_id: 63a07ddf05a32042dffac965
            id: '37846'
          response:
            body:
              consent_type: opt_in
              content_types:
                - sms_message
              default_translation:
                description: Lorem ipsum dolor sit amet
                locale: en
                name: Newsletters
              id: '122'
              state: live
              translations:
                - description: Lorem ipsum dolor sit amet
                  locale: en
                  name: Newsletters
              type: subscription
      method: DELETE
      path: /contacts/{contact_id}/subscriptions/{id}
      request:
        name: DetachSubscriptionTypeToContactRequest
        path-parameters:
          contact_id:
            docs: The unique identifier for the contact which is given by Intercom
            type: string
          id:
            docs: >-
              The unique identifier for the subscription type which is given by
              Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: SubscriptionType
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    listSubscriptionTypes:
      auth: true
      display-name: List subscription types
      docs: >-
        You can list all subscription types. A list of subscription type objects
        will be returned.
      errors:
        - unstableRoot.UnauthorizedError
      examples:
        - name: Successful
          response:
            body:
              data:
                - consent_type: opt_out
                  content_types:
                    - email
                  default_translation:
                    description: Lorem ipsum dolor sit amet
                    locale: en
                    name: Newsletters
                  id: '135'
                  state: live
                  translations:
                    - description: Lorem ipsum dolor sit amet
                      locale: en
                      name: Newsletters
                  type: subscription
              type: list
      method: GET
      path: /subscription_types
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.SubscriptionTypeList
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
  source:
    openapi: ../descriptions/0/api.intercom.io.yaml
