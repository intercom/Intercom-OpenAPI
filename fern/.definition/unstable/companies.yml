imports:
  unstableRoot: __package__.yml
  unstableSegments: segments.yml
types:
  Company:
    docs: >-
      Companies allow you to represent organizations using your product. Each
      company will have its own description and be associated with contacts. You
      can fetch, create, update and list companies.
    properties:
      app_id:
        docs: >-
          The Intercom defined code of the workspace the company is associated
          to.
        type: optional<string>
      company_id:
        docs: The company id you have defined for the company.
        type: optional<string>
      created_at:
        docs: The time the company was added in Intercom.
        type: optional<integer>
      custom_attributes:
        docs: The custom attributes you have set on the company.
        type: optional<map<string, string>>
      id:
        docs: The Intercom defined id representing the company.
        type: optional<string>
      industry:
        docs: The industry that the company operates in.
        type: optional<string>
      last_request_at:
        docs: The time the company last recorded making a request.
        type: optional<integer>
      monthly_spend:
        docs: How much revenue the company generates for your business.
        type: optional<integer>
      name:
        docs: The name of the company.
        type: optional<string>
      plan:
        type: optional<CompanyPlan>
      remote_created_at:
        docs: The time the company was created by you.
        type: optional<integer>
      segments:
        docs: The list of segments associated with the company
        type: optional<CompanySegments>
      session_count:
        docs: How many sessions the company has recorded.
        type: optional<integer>
      size:
        docs: The number of employees in the company.
        type: optional<integer>
      tags:
        docs: The list of tags associated with the company
        type: optional<CompanyTags>
      type:
        docs: Value is `company`
        type: optional<literal<"company">>
      updated_at:
        docs: The last time the company was updated.
        type: optional<integer>
      user_count:
        docs: The number of users in the company.
        type: optional<integer>
      website:
        docs: The URL for the company website.
        type: optional<string>
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  CompanyPlan:
    inline: true
    properties:
      id:
        docs: The id of the plan
        type: optional<string>
      name:
        docs: The name of the plan
        type: optional<string>
      type:
        docs: Value is always "plan"
        type: optional<string>
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  CompanySegments:
    docs: The list of segments associated with the company
    inline: true
    properties:
      segments: optional<list<unstableSegments.Segment>>
      type:
        docs: The type of the object
        type: optional<literal<"segment.list">>
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
  CompanyTags:
    docs: The list of tags associated with the company
    inline: true
    properties:
      tags: optional<list<unknown>>
      type:
        docs: The type of the object
        type: optional<literal<"tag.list">>
    source:
      openapi: ../descriptions/0/api.intercom.io.yaml
docs: Everything about your Companies
service:
  auth: false
  base-path: ''
  display-name: Companies
  endpoints:
    attachContactToACompany:
      auth: true
      display-name: Attach a Contact to a Company
      docs: You can attach a company to a single contact.
      errors:
        - unstableRoot.BadRequestError
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: id
          request:
            company_id: 6762f09a1bb69f9f2193bb34
          response:
            body:
              app_id: this_is_an_id197_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537370
              custom_attributes:
                key: value
              id: 6762f09a1bb69f9f2193bb34
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company6
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537370
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537370
              user_count: 1
              website: https://www.intercom.com
        - name: Bad Request
          path-parameters:
            id: id
          request:
            company_id: 58a430d35458202d41b1e65b
          response:
            body:
              app_id: this_is_an_id197_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537370
              custom_attributes:
                key: value
              id: 6762f09a1bb69f9f2193bb34
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company6
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537370
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537370
              user_count: 1
              website: https://www.intercom.com
        - name: Company Not Found
          path-parameters:
            id: id
          request:
            company_id: '123'
          response:
            body:
              app_id: this_is_an_id197_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537370
              custom_attributes:
                key: value
              id: 6762f09a1bb69f9f2193bb34
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company6
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537370
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537370
              user_count: 1
              website: https://www.intercom.com
      method: POST
      path: /contacts/{id}/companies
      request:
        body:
          properties:
            company_id:
              docs: The unique identifier for the company which is given by Intercom
              type: string
        content-type: application/json
        name: AttachContactToACompanyRequest
        path-parameters:
          id:
            docs: The unique identifier for the contact which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: Company
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    createOrUpdateCompany:
      auth: true
      display-name: Create or Update a company
      docs: >
        You can create or update a company.


        Companies will be only visible in Intercom when there is at least one
        associated user.


        Companies are looked up via `company_id` in a `POST` request, if not
        found via `company_id`, the new company will be created, if found, that
        company will be updated.


        {% admonition type="warning" name="Using `company_id`" %}
          You can set a unique `company_id` value when creating a company. However, it is not possible to update `company_id`. Be sure to set a unique value once upon creation of the company.
        {% /admonition %}
      errors:
        - unstableRoot.BadRequestError
        - unstableRoot.UnauthorizedError
      method: POST
      path: /companies
      request:
        body: unknown
        content-type: application/json
      response:
        docs: Successful
        status-code: 200
        type: Company
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    deleteCompany:
      auth: true
      display-name: Delete a company
      docs: You can delete a single company.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: 5f4d3c1c-7b1b-4d7d-a97e-6095715c6632
          response:
            body:
              deleted: true
              id: 6762f0881bb69f9f2193bb09
              object: company
      method: DELETE
      path: /companies/{id}
      request:
        name: DeleteCompanyRequest
        path-parameters:
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.DeletedCompanyObject
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    detachContactFromACompany:
      auth: true
      display-name: Detach a contact from a company
      docs: You can detach a company from a single contact.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            contact_id: 58a430d35458202d41b1e65b
            id: 58a430d35458202d41b1e65b
          response:
            body:
              app_id: this_is_an_id205_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537376
              custom_attributes:
                key: value
              id: 6762f0a01bb69f9f2193bb44
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company8
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537376
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537377
              user_count: 0
              website: https://www.intercom.com
      method: DELETE
      path: /contacts/{contact_id}/companies/{id}
      request:
        name: DetachContactFromACompanyRequest
        path-parameters:
          contact_id:
            docs: The unique identifier for the contact which is given by Intercom
            type: string
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: Company
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    listAllCompanies:
      auth: true
      display-name: List all companies
      docs: >
        You can list companies. The company list is sorted by the
        `last_request_at` field and by default is ordered descending, most
        recently requested first.


        Note that the API does not include companies who have no associated
        users in list responses.


        When using the Companies endpoint and the pages object to iterate
        through the returned companies, there is a limit of 10,000 Companies
        that can be returned. If you need to list or iterate on more than 10,000
        Companies, please use the [Scroll
        API](https://developers.intercom.com/reference#iterating-over-all-companies).

        {% admonition type="warning" name="Pagination" %}
          You can use pagination to limit the number of results returned. The default is `20` results per page.
          See the [pagination section](https://developers.intercom.com/docs/build-an-integration/learn-more/rest-apis/pagination/#pagination-for-list-apis) for more details on how to use the `starting_after` param.
        {% /admonition %}
      errors:
        - unstableRoot.UnauthorizedError
      examples:
        - name: Successful
          query-parameters:
            order: desc
          response:
            body:
              data:
                - app_id: this_is_an_id189_that_should_be_at_least_
                  company_id: remote_companies_scroll_2
                  created_at: 1734537364
                  custom_attributes:
                    key: value
                  id: 6762f0941bb69f9f2193bb25
                  industry: Software
                  last_request_at: 1663597223
                  monthly_spend: 0
                  name: IntercomQATest1
                  plan:
                    id: '269315'
                    name: Pro
                    type: plan
                  remote_created_at: 1734537364
                  segments:
                    segments:
                      - created_at: 1394621988
                        id: 56203d253cba154d39010062
                        name: Active
                        updated_at: 1394622004
                    type: segment.list
                  session_count: 0
                  size: 100
                  tags:
                    type: tag.list
                  type: company
                  updated_at: 1734537364
                  user_count: 4
                  website: https://www.intercom.com
              pages:
                page: 1
                per_page: 15
                total_pages: 1
                type: pages
              total_count: 1
              type: list
      method: POST
      path: /companies/list
      request:
        name: ListAllCompaniesRequest
        query-parameters:
          order:
            docs: >-
              `asc` or `desc`. Return the companies in ascending or descending
              order. Defaults to desc
            type: optional<string>
          page:
            docs: The page of results to fetch. Defaults to first page
            type: optional<integer>
          per_page:
            docs: How many results to return per page. Defaults to 15
            type: optional<integer>
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.CompanyList
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    ListAttachedContacts:
      auth: true
      display-name: List attached contacts
      docs: You can fetch a list of all contacts that belong to a company.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: 5f4d3c1c-7b1b-4d7d-a97e-6095715c6632
          response:
            body:
              data:
                - android_app_name: Intercom
                  android_app_version: 5.0.0
                  android_device: Pixel 3
                  android_last_seen_at: 1571672154
                  android_os_version: '10'
                  android_sdk_version: '28'
                  avatar:
                    type: avatar
                  browser: Chrome
                  browser_language: en-US
                  browser_version: 80.0.3987.132
                  companies:
                    has_more: true
                    total_count: 100
                    url: /contacts/5ba682d23d7cf92bef87bfd4/companies
                  created_at: 1571672154
                  custom_attributes:
                    key: value
                  email: joe@example.com
                  email_domain: example.com
                  external_id: f3b87a2e09d514c6c2e79b9a
                  formatted_phone: '+1123456789'
                  has_hard_bounced: true
                  id: 5ba682d23d7cf92bef87bfd4
                  ios_app_name: Intercom
                  ios_app_version: 5.0.0
                  ios_device: iPhone 11
                  ios_last_seen_at: 1571672154
                  ios_os_version: 13.3.1
                  ios_sdk_version: 13.3.1
                  language_override: en
                  last_contacted_at: 1571672154
                  last_email_clicked_at: 1571672154
                  last_email_opened_at: 1571672154
                  last_replied_at: 1571672154
                  last_seen_at: 1571672154
                  marked_email_as_spam: true
                  name: John Doe
                  notes:
                    has_more: true
                    total_count: 100
                    url: /contacts/5ba682d23d7cf92bef87bfd4/notes
                  os: Mac OS X
                  owner_id: 123
                  phone: '+1123456789'
                  role: user
                  signed_up_at: 1571672154
                  tags:
                    has_more: true
                    total_count: 100
                    url: /contacts/5ba682d23d7cf92bef87bfd4/tags
                  type: contact
                  unsubscribed_from_emails: true
                  updated_at: 1571672154
                  workspace_id: ecahpwf5
              pages:
                next:
                  per_page: 2
                  starting_after: your-cursor-from-response
                page: 1
                per_page: 50
                total_pages: 0
                type: pages
              total_count: 0
              type: list
      method: GET
      path: /companies/{id}/contacts
      request:
        name: ListAttachedContactsRequest
        path-parameters:
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.CompanyAttachedContacts
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    ListAttachedSegmentsForCompanies:
      auth: true
      display-name: List attached segments for companies
      docs: You can fetch a list of all segments that belong to a company.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: 5f4d3c1c-7b1b-4d7d-a97e-6095715c6632
          response:
            body:
              data:
                - count: 3
                  created_at: 1394621988
                  id: 56203d253cba154d39010062
                  name: Active
                  person_type: contact
                  type: segment
                  updated_at: 1394622004
              type: list
      method: GET
      path: /companies/{id}/segments
      request:
        name: ListAttachedSegmentsForCompaniesRequest
        path-parameters:
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.CompanyAttachedSegments
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    RetrieveACompanyById:
      auth: true
      display-name: Retrieve a company by ID
      docs: You can fetch a single company.
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: 5f4d3c1c-7b1b-4d7d-a97e-6095715c6632
          response:
            body:
              app_id: this_is_an_id159_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537343
              custom_attributes:
                key: value
              id: 6762f07f1bb69f9f2193baf5
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company1
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537343
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537343
              user_count: 1
              website: https://www.intercom.com
      method: GET
      path: /companies/{id}
      request:
        name: RetrieveACompanyByIdRequest
        path-parameters:
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: Company
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    retrieveCompany:
      auth: true
      display-name: Retrieve companies
      docs: >
        You can fetch a single company by passing in `company_id` or `name`.

          `https://api.intercom.io/companies?name={name}`

          `https://api.intercom.io/companies?company_id={company_id}`

        You can fetch all companies and filter by `segment_id` or `tag_id` as a
        query parameter.

          `https://api.intercom.io/companies?tag_id={tag_id}`

          `https://api.intercom.io/companies?segment_id={segment_id}`
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          query-parameters:
            company_id: '12345'
            name: my company
            segment_id: '98765'
            tag_id: '678910'
          response:
            body:
              data:
                - app_id: this_is_an_id153_that_should_be_at_least_
                  company_id: remote_companies_scroll_2
                  created_at: 1734537338
                  custom_attributes:
                    key: value
                  id: 6762f07a1bb69f9f2193baea
                  industry: Software
                  last_request_at: 1663597223
                  monthly_spend: 0
                  name: IntercomQATest1
                  plan:
                    id: '269315'
                    name: Pro
                    type: plan
                  remote_created_at: 1734537338
                  segments:
                    segments:
                      - created_at: 1394621988
                        id: 56203d253cba154d39010062
                        name: Active
                        updated_at: 1394622004
                    type: segment.list
                  session_count: 0
                  size: 100
                  tags:
                    type: tag.list
                  type: company
                  updated_at: 1734537338
                  user_count: 4
                  website: https://www.intercom.com
              pages:
                page: 1
                per_page: 15
                total_pages: 1
                type: pages
              total_count: 1
              type: list
      method: GET
      path: /companies
      request:
        name: RetrieveCompanyRequest
        query-parameters:
          company_id:
            docs: The `company_id` of the company to filter by.
            type: optional<string>
          name:
            docs: The `name` of the company to filter by.
            type: optional<string>
          page:
            docs: The page of results to fetch. Defaults to first page
            type: optional<integer>
          per_page:
            docs: How many results to display per page. Defaults to 15
            type: optional<integer>
          segment_id:
            docs: The `segment_id` of the company to filter by.
            type: optional<string>
          tag_id:
            docs: The `tag_id` of the company to filter by.
            type: optional<string>
      response:
        docs: Successful
        status-code: 200
        type: unstableRoot.CompanyList
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    scrollOverAllCompanies:
      auth: true
      display-name: Scroll over all companies
      docs: >2
              The `list all companies` functionality does not work well for huge datasets, and can result in errors and performance problems when paging deeply. The Scroll API provides an efficient mechanism for iterating over all companies in a dataset.

        - Each app can only have 1 scroll open at a time. You'll get an error
        message if you try to have more than one open per app.

        - If the scroll isn't used for 1 minute, it expires and calls with that
        scroll param will fail

        - If the end of the scroll is reached, "companies" will be empty and the
        scroll parameter will expire


        {% admonition type="info" name="Scroll Parameter" %}
          You can get the first page of companies by simply sending a GET request to the scroll endpoint.
          For subsequent requests you will need to use the scroll parameter from the response.
        {% /admonition %}

        {% admonition type="danger" name="Scroll network timeouts" %}
          Since scroll is often used on large datasets network errors such as timeouts can be encountered. When this occurs you will see a HTTP 500 error with the following message:
          "Request failed due to an internal network error. Please restart the scroll operation."
          If this happens, you will need to restart your scroll query: It is not possible to continue from a specific point when using scroll.
        {% /admonition %}
      errors:
        - unstableRoot.UnauthorizedError
      examples:
        - name: Successful
          response:
            body:
              data:
                - app_id: this_is_an_id193_that_should_be_at_least_
                  company_id: remote_companies_scroll_2
                  created_at: 1734537367
                  custom_attributes:
                    key: value
                  id: 6762f0971bb69f9f2193bb2b
                  industry: Software
                  last_request_at: 1663597223
                  monthly_spend: 0
                  name: IntercomQATest1
                  plan:
                    id: '269315'
                    name: Pro
                    type: plan
                  remote_created_at: 1734537367
                  segments:
                    segments:
                      - created_at: 1394621988
                        id: 56203d253cba154d39010062
                        name: Active
                        updated_at: 1394622004
                    type: segment.list
                  session_count: 0
                  size: 100
                  tags:
                    type: tag.list
                  type: company
                  updated_at: 1734537367
                  user_count: 4
                  website: https://www.intercom.com
              scroll_param: 69352cd2-ab5b-42ac-b004-a13d4e55e9b0
              type: list
      method: GET
      path: /companies/scroll
      request:
        name: ScrollOverAllCompaniesRequest
        query-parameters:
          scroll_param:
            docs: ''
            type: optional<string>
      response:
        docs: Successful
        status-code: 200
        type: optional<unstableRoot.CompanyScroll>
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
    UpdateCompany:
      auth: true
      display-name: Update a company
      docs: |
        You can update a single company using the Intercom provisioned `id`.

        {% admonition type="warning" name="Using `company_id`" %}
          When updating a company it is not possible to update `company_id`. This can only be set once upon creation of the company.
        {% /admonition %}
      errors:
        - unstableRoot.UnauthorizedError
        - unstableRoot.NotFoundError
      examples:
        - name: Successful
          path-parameters:
            id: 5f4d3c1c-7b1b-4d7d-a97e-6095715c6632
          response:
            body:
              app_id: this_is_an_id165_that_should_be_at_least_
              company_id: '1'
              created_at: 1734537348
              custom_attributes:
                key: value
              id: 6762f0841bb69f9f2193baff
              industry: Software
              last_request_at: 1663597223
              monthly_spend: 0
              name: company2
              plan:
                id: '269315'
                name: Pro
                type: plan
              remote_created_at: 1734537348
              segments:
                segments:
                  - created_at: 1394621988
                    id: 56203d253cba154d39010062
                    name: Active
                    updated_at: 1394622004
                type: segment.list
              session_count: 0
              size: 100
              tags:
                tags:
                  - key: value
                type: tag.list
              type: company
              updated_at: 1734537348
              user_count: 1
              website: https://www.intercom.com
      method: PUT
      path: /companies/{id}
      request:
        name: UpdateCompanyRequest
        path-parameters:
          id:
            docs: The unique identifier for the company which is given by Intercom
            type: string
      response:
        docs: Successful
        status-code: 200
        type: Company
      source:
        openapi: ../descriptions/0/api.intercom.io.yaml
  source:
    openapi: ../descriptions/0/api.intercom.io.yaml
