'/contacts/{contact_id}/companies':
  post:
    summary: Attach a Contact to a Company
    parameters:
      - name: Intercom-Version
        in: header
        schema:
          '$ref': '#/components/schemas/intercom_version'
      - name: contact_id
        in: path
        required: true
        description: The unique identifier for the contact which is given by Intercom
        schema:
          type: string
    tags:
      - Companies
      - Contacts
    operationId: attachContactToACompany
    description: You can attach a company to a single contact.
    responses:
      '200':
        description: Successful
        content:
          application/json:
            examples:
              Successful:
                value:
                  type: company
                  company_id: '1'
                  id: 667d608d8a68186f43bafd70
                  app_id: this_is_an_id166_that_should_be_at_least_
                  name: company6
                  remote_created_at: 1719492749
                  created_at: 1719492749
                  updated_at: 1719492749
                  monthly_spend: 0
                  session_count: 0
                  user_count: 1
                  tags:
                    type: tag.list
                    tags: []
                  segments:
                    type: segment.list
                    segments: []
                  plan: {}
                  custom_attributes: {}
            schema:
              '$ref': '#/components/schemas/company'
      '400':
        description: Bad Request
        content:
          application/json:
            examples:
              Bad Request:
                value:
                  type: error.list
                  request_id: 9297dcfc-1896-43a3-a3f9-131238422ed2
                  errors:
                    - code: parameter_not_found
                      message: company not specified
            schema:
              '$ref': '#/components/schemas/error'
      '404':
        description: Company Not Found
        content:
          application/json:
            examples:
              Company Not Found:
                value:
                  type: error.list
                  request_id: 32d121d8-fcbf-4c59-9c60-204f7d602f36
                  errors:
                    - code: company_not_found
                      message: Company Not Found
            schema:
              '$ref': '#/components/schemas/error'
      '401':
        description: Unauthorized
        content:
          application/json:
            examples:
              Unauthorized:
                value:
                  type: error.list
                  request_id: 99739bbd-2dbe-4ce3-ae91-af23379b5cd7
                  errors:
                    - code: unauthorized
                      message: Access Token Invalid
            schema:
              '$ref': '#/components/schemas/error'
    requestBody:
      content:
        application/json:
          schema:
            type: object
            required:
              - id
            properties:
              id:
                type: string
                description: The unique identifier for the company which is given
                  by Intercom
                example: 58a430d35458202d41b1e65b
          examples:
            successful:
              summary: Successful
              value:
                id: 667d608d8a68186f43bafd70
            bad_request:
              summary: Bad Request
              value:
            company_not_found:
              summary: Company Not Found
              value:
                id: '123'
  get:
    summary: List attached companies for contact
    parameters:
      - name: contact_id
        in: path
        description: The unique identifier for the contact which is given by Intercom
        example: 63a07ddf05a32042dffac965
        required: true
        schema:
          type: string
      - name: Intercom-Version
        in: header
        schema:
          '$ref': '#/components/schemas/intercom_version'
      - name: page
        in: query
        required: false
        description: The page of results to fetch. Defaults to first page
        example: 1
        schema:
          type: integer
      - name: per_page
        in: query
        required: false
        description: How many results to display per page. Defaults to 15
        example: 15
        schema:
          type: integer
    tags:
      - Contacts
      - Companies
    operationId: listCompaniesForAContact
    description: You can fetch a list of companies that are associated to a contact.
    responses:
      '200':
        description: successful
        content:
          application/json:
            examples:
              successful:
                value:
                  type: list
                  data:
                    - type: company
                      company_id: '1'
                      id: 667d60938a68186f43bafd91
                      app_id: this_is_an_id182_that_should_be_at_least_
                      name: company12
                      remote_created_at: 1719492755
                      created_at: 1719492755
                      updated_at: 1719492755
                      last_request_at: 1719319955
                      monthly_spend: 0
                      session_count: 0
                      user_count: 1
                      tags:
                        type: tag.list
                        tags: []
                      segments:
                        type: segment.list
                        segments: []
                      plan: {}
                      custom_attributes: {}
                  pages:
                    type: pages
                    next:
                    page: 1
                    per_page: 50
                    total_pages: 1
                  total_count: 1
            schema:
              '$ref': '#/components/schemas/contact_attached_companies'
      '404':
        description: Contact not found
        content:
          application/json:
            examples:
              Contact not found:
                value:
                  type: error.list
                  request_id: b9d7374d-1780-4668-bb62-0e1ff9cdab45
                  errors:
                    - code: not_found
                      message: User Not Found
            schema:
              '$ref': '#/components/schemas/error'
      '401':
        description: Unauthorized
        content:
          application/json:
            examples:
              Unauthorized:
                value:
                  type: error.list
                  request_id: d211ec8c-df9b-420c-86df-23c27ad54bc5
                  errors:
                    - code: unauthorized
                      message: Access Token Invalid
            schema:
              '$ref': '#/components/schemas/error'
